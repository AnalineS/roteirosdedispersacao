"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{1616:function(e,a,r){r.r(a),r.d(a,{default:function(){return i}});var t=r(7437),o=r(29),s=r.n(o),n=r(2265),d=r(319);function i(e){var a,r;let{analysis:o,recommendedPersona:i,currentPersonaId:l,personas:c,onAcceptRouting:m,onRejectRouting:x,onShowExplanation:p,isMobile:b=!1,className:g=""}=e,[u,f]=(0,n.useState)(!0),[j,h]=(0,n.useState)(!1),[v,k]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=setTimeout(()=>{k(!0)},3e3);return()=>clearTimeout(e)},[]);let y=(0,n.useCallback)(()=>{m(o.recommendedPersonaId),f(!1)},[o.recommendedPersonaId,m]);(0,n.useCallback)(()=>{x(),f(!1)},[x]);let N=(0,n.useCallback)(()=>{h(!j),p()},[j,p]),w=l===o.recommendedPersonaId;return u?(0,t.jsxs)("div",{style:{background:"linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%)",border:"1px solid #2196f3",borderRadius:"12px",margin:b?"8px 0":"12px 0",padding:b?"12px":"16px",boxShadow:"0 2px 8px rgba(33, 150, 243, 0.2)",opacity:v?.7:1,transition:"all 0.3s ease",position:"relative"},role:"alert","aria-live":"polite",className:"jsx-37a81b79a982207d "+(g||""),children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:b?"8px":"12px",marginBottom:j?"12px":"0",flexWrap:b?"wrap":"nowrap"},className:"jsx-37a81b79a982207d",children:[(0,t.jsx)("div",{style:{fontSize:"1.2rem",animation:"spin 2s linear infinite"},className:"jsx-37a81b79a982207d",children:"\uD83D\uDD04"}),(0,t.jsx)(d.Z,{persona:i,personaId:o.recommendedPersonaId,size:"small",showStatus:!1,ariaLabel:"Avatar de ".concat(i.name,", especialista recomendado")}),(0,t.jsxs)("div",{style:{flex:1,minWidth:0},className:"jsx-37a81b79a982207d",children:[(0,t.jsx)("div",{style:{fontSize:b?"0.85rem":"0.9rem",fontWeight:"bold",color:"#1976d2",marginBottom:"2px"},className:"jsx-37a81b79a982207d",children:w?"Continuando com ".concat(i.name):"Roteando para ".concat(i.name)}),(0,t.jsx)("div",{style:{fontSize:b?"0.75rem":"0.8rem",color:"#666"},className:"jsx-37a81b79a982207d",children:o.reasoning})]}),(0,t.jsxs)("div",{style:{fontSize:"0.7rem",padding:"2px 6px",borderRadius:"10px",background:(a=o.confidence)>=.8?"#4caf50":a>=.6?"#ff9800":"#f44336",color:"white",fontWeight:"bold",whiteSpace:"nowrap"},className:"jsx-37a81b79a982207d",children:[Math.round(100*o.confidence),"%"]})]}),!w&&(0,t.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center",flexWrap:b?"wrap":"nowrap"},className:"jsx-37a81b79a982207d",children:[(0,t.jsx)("button",{onClick:y,style:{background:"#1976d2",color:"white",border:"none",borderRadius:"6px",padding:b?"6px 12px":"8px 16px",fontSize:b?"0.8rem":"0.85rem",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#1565c0"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#1976d2"},"aria-label":"Aceitar roteamento para ".concat(i.name),className:"jsx-37a81b79a982207d",children:"✓ Continuar"}),Object.keys(c).length>1&&(0,t.jsxs)("select",{onChange:e=>{e.target.value&&e.target.value!==o.recommendedPersonaId&&(m(e.target.value),f(!1))},style:{padding:b?"6px 8px":"8px 12px",borderRadius:"6px",border:"1px solid #ccc",fontSize:b?"0.8rem":"0.85rem",background:"white",cursor:"pointer"},"aria-label":"Escolher especialista alternativo",className:"jsx-37a81b79a982207d",children:[(0,t.jsx)("option",{value:"",className:"jsx-37a81b79a982207d",children:"Trocar por..."}),Object.entries(c).map(e=>{let[a,r]=e;return a!==o.recommendedPersonaId?(0,t.jsx)("option",{value:a,className:"jsx-37a81b79a982207d",children:r.name},a):null})]}),(0,t.jsx)("button",{onClick:N,style:{background:"transparent",border:"1px solid #1976d2",color:"#1976d2",borderRadius:"6px",padding:b?"6px 8px":"8px 12px",fontSize:b?"0.7rem":"0.8rem",cursor:"pointer",whiteSpace:"nowrap"},"aria-label":j?"Ocultar explica\xe7\xe3o":"Mostrar explica\xe7\xe3o",className:"jsx-37a81b79a982207d",children:j?"Ocultar":"Por qu\xea?"})]}),j&&(0,t.jsxs)("div",{style:{marginTop:"12px",padding:"12px",background:"rgba(255, 255, 255, 0.7)",borderRadius:"8px",fontSize:b?"0.8rem":"0.85rem",lineHeight:"1.4"},className:"jsx-37a81b79a982207d",children:[(0,t.jsx)("div",{style:{marginBottom:"8px"},className:"jsx-37a81b79a982207d",children:(0,t.jsx)("strong",{className:"jsx-37a81b79a982207d",children:"An\xe1lise de especializa\xe7\xe3o:"})}),(0,t.jsxs)("div",{style:{marginBottom:"8px"},className:"jsx-37a81b79a982207d",children:["• ",(0,t.jsx)("strong",{className:"jsx-37a81b79a982207d",children:"Escopo:"})," ",o.scope]}),(0,t.jsxs)("div",{style:{marginBottom:"8px"},className:"jsx-37a81b79a982207d",children:["• ",(0,t.jsx)("strong",{className:"jsx-37a81b79a982207d",children:"Confian\xe7a:"})," ",(r=o.confidence)>=.8?"Alta confian\xe7a":r>=.6?"M\xe9dia confian\xe7a":"Baixa confian\xe7a"," (",Math.round(100*o.confidence),"%)"]}),(0,t.jsxs)("div",{style:{marginBottom:"8px"},className:"jsx-37a81b79a982207d",children:["• ",(0,t.jsxs)("strong",{className:"jsx-37a81b79a982207d",children:["Expertise de ",i.name,":"]})," ",i.target_audience]}),o.alternatives.length>0&&(0,t.jsxs)("div",{className:"jsx-37a81b79a982207d",children:["• ",(0,t.jsx)("strong",{className:"jsx-37a81b79a982207d",children:"Alternativas:"})," ",o.alternatives.map(e=>{var a;return null===(a=c[e.personaId])||void 0===a?void 0:a.name}).join(", ")]})]}),(0,t.jsx)("button",{onClick:()=>f(!1),style:{position:"absolute",top:"8px",right:"8px",background:"transparent",border:"none",fontSize:"1rem",cursor:"pointer",color:"#666",width:"24px",height:"24px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(0,0,0,0.1)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},"aria-label":"Fechar indicador de roteamento",className:"jsx-37a81b79a982207d",children:"✕"}),(0,t.jsx)(s(),{id:"37a81b79a982207d",children:"@-webkit-keyframes spin{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{from{-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{from{-o-transform:rotate(0deg);transform:rotate(0deg)}to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]}):null}}}]);