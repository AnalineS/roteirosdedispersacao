"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[247],{2247:function(e,r,o){o.r(r),o.d(r,{ContextPreview:function(){return l},KnowledgeIndicator:function(){return i}});var t=o(7437),n=o(29),s=o.n(n),a=o(2265),c=o(5121);let i=e=>{let{searchResult:r,stats:o,isSearching:n=!1,showDetails:i=!1,position:l="inline"}=e,[d,m]=(0,a.useState)(!1);if(!r&&!o&&!n)return null;let p=()=>n?c.rS.colors.warning[500]:r?r.confidence>.7?c.rS.colors.success[500]:r.confidence>.4?c.rS.colors.warning[500]:c.rS.colors.danger[500]:c.rS.colors.neutral[400],g=()=>n?"Buscando contexto...":r?r.cached?"Contexto (cache)":r.confidence>.7?"Contexto encontrado":r.confidence>.4?"Contexto parcial":"Contexto limitado":"Base de conhecimento",u={display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 12px",borderRadius:"16px",backgroundColor:c.rS.colors.neutral[50],border:"1px solid ".concat(p()),color:p(),fontSize:"0.8rem",fontWeight:500,cursor:i?"pointer":"default",transition:"all 0.3s ease",..."floating"===l&&{position:"fixed",bottom:"80px",right:"20px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",zIndex:1e3,backgroundColor:"white"}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s(),{id:"348875d323cc2326",dynamic:[c.rS.colors.neutral[200]],children:'@-webkit-keyframes spin{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{from{-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{from{-o-transform:rotate(0deg);transform:rotate(0deg)}to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.knowledge-details.__jsx-style-dynamic-selector{position:absolute;bottom:100%;left:0;right:0;margin-bottom:"8px";padding:"12px";backgroundcolor:"white";border:"1px solid '.concat(c.rS.colors.neutral[200],'";borderradius:"8px";boxshadow:"0 4px 12px rgba(0, 0, 0, 0.15)";fontsize:"0.75rem";zindex:1001;minwidth:"250px";opacity:0;visibility:"hidden";-webkit-transition:"all 0.3s ease";-moz-transition:"all 0.3s ease";-o-transition:"all 0.3s ease";transition:"all 0.3s ease"}.knowledge-indicator.__jsx-style-dynamic-selector:hover .knowledge-details.__jsx-style-dynamic-selector{opacity:1!important;visibility:visible!important}')}),(0,t.jsxs)("div",{style:u,onClick:()=>i&&m(!d),role:i?"button":"status","aria-label":g(),className:s().dynamic([["348875d323cc2326",[c.rS.colors.neutral[200]]]])+" knowledge-indicator",children:[(0,t.jsx)("span",{style:{fontSize:"1rem",animation:n?"spin 1s linear infinite":"none"},className:s().dynamic([["348875d323cc2326",[c.rS.colors.neutral[200]]]]),children:n?"\uD83D\uDD04":r?r.confidence>.7?"✅":r.confidence>.4?"⚠️":"❓":"\uD83D\uDCDA"}),(0,t.jsx)("span",{className:s().dynamic([["348875d323cc2326",[c.rS.colors.neutral[200]]]]),children:g()}),r&&(0,t.jsxs)("span",{style:{fontSize:"0.7rem",opacity:.7,marginLeft:"4px"},className:s().dynamic([["348875d323cc2326",[c.rS.colors.neutral[200]]]]),children:["(",Math.round(100*r.confidence),"%)"]}),i&&(0,t.jsxs)("div",{className:s().dynamic([["348875d323cc2326",[c.rS.colors.neutral[200]]]])+" knowledge-details",children:[r&&(0,t.jsxs)("div",{style:{marginBottom:"8px"},className:s().dynamic([["348875d323cc2326",[c.rS.colors.neutral[200]]]]),children:[(0,t.jsx)("div",{style:{fontWeight:"bold",marginBottom:"4px"},className:s().dynamic([["348875d323cc2326",[c.rS.colors.neutral[200]]]]),children:"\xdaltima Busca:"}),(0,t.jsxs)("div",{className:s().dynamic([["348875d323cc2326",[c.rS.colors.neutral[200]]]]),children:["Chunks encontrados: ",r.chunks.length]}),(0,t.jsxs)("div",{className:s().dynamic([["348875d323cc2326",[c.rS.colors.neutral[200]]]]),children:["Confian\xe7a: ",Math.round(100*r.confidence),"%"]}),(0,t.jsxs)("div",{className:s().dynamic([["348875d323cc2326",[c.rS.colors.neutral[200]]]]),children:["Tempo: ",r.processing_time,"ms"]}),(0,t.jsxs)("div",{className:s().dynamic([["348875d323cc2326",[c.rS.colors.neutral[200]]]]),children:["Cache: ",r.cached?"Sim":"N\xe3o"]}),r.chunks.length>0&&(0,t.jsxs)("div",{style:{marginTop:"6px"},className:s().dynamic([["348875d323cc2326",[c.rS.colors.neutral[200]]]]),children:[(0,t.jsx)("div",{style:{fontWeight:"bold",fontSize:"0.7rem"},className:s().dynamic([["348875d323cc2326",[c.rS.colors.neutral[200]]]]),children:"Fontes:"}),r.chunks.slice(0,3).map((e,r)=>(0,t.jsxs)("div",{style:{fontSize:"0.65rem",opacity:.8,marginLeft:"8px"},className:s().dynamic([["348875d323cc2326",[c.rS.colors.neutral[200]]]]),children:["• ",e.section.replace(/_/g," ")]},r))]})]}),o&&(0,t.jsxs)("div",{className:s().dynamic([["348875d323cc2326",[c.rS.colors.neutral[200]]]]),children:[(0,t.jsx)("div",{style:{fontWeight:"bold",marginBottom:"4px"},className:s().dynamic([["348875d323cc2326",[c.rS.colors.neutral[200]]]]),children:"Estat\xedsticas:"}),(0,t.jsxs)("div",{className:s().dynamic([["348875d323cc2326",[c.rS.colors.neutral[200]]]]),children:["Cache: ",o.cache_stats.hit_rate_percent,"% hits"]}),(0,t.jsxs)("div",{className:s().dynamic([["348875d323cc2326",[c.rS.colors.neutral[200]]]]),children:["Feedback: ",o.feedback_stats.average_rating,"/5"]}),(0,t.jsxs)("div",{className:s().dynamic([["348875d323cc2326",[c.rS.colors.neutral[200]]]]),children:["Base: ",o.system_stats.total_chunks," chunks"]})]})]})]})]})},l=e=>{let{context:r,sources:o,confidence:n}=e,[s,i]=(0,a.useState)(!1);if(!r||n<.3)return null;let l=r.length>150?r.substring(0,147)+"...":r;return(0,t.jsxs)("div",{style:{padding:"12px",backgroundColor:c.rS.colors.primary[50],border:"1px solid ".concat(c.rS.colors.primary[200]),borderRadius:"8px",margin:"8px 0",fontSize:"0.85rem"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[(0,t.jsx)("span",{style:{color:c.rS.colors.primary[600]},children:"\uD83D\uDD0D"}),(0,t.jsx)("span",{style:{fontWeight:"bold",color:c.rS.colors.primary[700]},children:"Contexto da Base de Conhecimento"}),(0,t.jsxs)("span",{style:{fontSize:"0.7rem",color:c.rS.colors.primary[500],backgroundColor:c.rS.colors.primary[100],padding:"2px 6px",borderRadius:"10px"},children:[Math.round(100*n),"%"]})]}),(0,t.jsxs)("div",{style:{color:c.rS.colors.neutral[700],lineHeight:"1.4",marginBottom:o.length>0?"8px":"0"},children:[s?r:l,r.length>150&&(0,t.jsx)("button",{onClick:()=>i(!s),style:{background:"none",border:"none",color:c.rS.colors.primary[600],cursor:"pointer",marginLeft:"4px",fontSize:"0.8rem",textDecoration:"underline"},children:s?"ver menos":"ver mais"})]}),o.length>0&&(0,t.jsxs)("div",{style:{fontSize:"0.7rem",color:c.rS.colors.neutral[500],fontStyle:"italic"},children:["Fontes: ",o.slice(0,2).map(e=>e.replace(/_/g," ")).join(", "),o.length>2&&" e mais ".concat(o.length-2)]})]})};r.default=i}}]);