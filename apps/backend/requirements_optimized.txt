# Roteiro de Dispensação - Backend Otimizado para Qualidade
# Versão com sentence-transformers mas otimizada para build rápido

# === CORE FLASK ===
Flask==3.0.0
Flask-CORS==4.0.0
Werkzeug==3.0.1

# === AI & ML ESSENCIAL ===
openai==1.54.0  # Para OpenRouter/AI - CRÍTICO

# === EMBEDDINGS - OPÇÃO OTIMIZADA ===
# Tentativa 1: sentence-transformers com modelo específico
sentence-transformers==2.2.2
torch==2.0.1  # Versão específica mais leve
# Não instalar chromadb agora - usar alternativa

# === VECTOR STORE LEVE ===
faiss-cpu==1.7.4  # Substitui ChromaDB - MUITO mais leve

# === CACHE OTIMIZADO ===
# Usar Firestore do Firebase (já configurado) + cache local
cachetools==5.3.2  # Cache em memória local
google-cloud-firestore==2.11.1  # Cache persistente no Firebase

# === UTILIDADES ===
python-dotenv==1.0.1
requests==2.31.0
pydantic==2.5.0

# === PROCESSAMENTO TEXTO LEVE ===
# Removido NLTK - usar regex e Python nativo

# === SEGURANÇA ===
bleach==6.1.0

# === MONITORING LEVE ===
# Usar Google Cloud Monitoring nativo (sem libs extras)

# === PRODUÇÃO ===
gunicorn==21.2.0

# === TIPO DE BUILD ===
typing-extensions==4.12.2

# === CRITICAL MISSING DEPENDENCIES ===
psutil==5.9.6  # Para blueprints health/monitoring
google-cloud-logging==3.8.0  # Para Cloud Run logs
jsonschema==4.23.0  # Para validação
python-dateutil==2.8.2  # Para datetime utils