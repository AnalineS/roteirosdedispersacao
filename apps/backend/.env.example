# ============================================================================
# BACKEND ENVIRONMENT VARIABLES - PR #175 Social Features
# Copie para .env.local para desenvolvimento ou configure via GitHub Secrets para produção
# ============================================================================

# === EMAIL CONFIGURATION (PR #175) ===
# Configuração do serviço de email para notificações
EMAIL_PROVIDER=sendgrid                                    # sendgrid ou smtp
EMAIL_FROM=noreply@roteirodispensacao.com.br              # Email remetente
EMAIL_FROM_NAME=Roteiro de Dispensação PQT-U              # Nome do remetente
EMAIL_REPLY_TO=suporte@roteirodispensacao.com.br          # Email para respostas

# SendGrid API (Provedor principal)
SENDGRID_API_KEY=your_sendgrid_api_key_here               # Obter em: https://app.sendgrid.com/settings/api_keys

# SMTP Fallback (Backup)
SMTP_HOST=smtp.gmail.com                                  # Host SMTP
SMTP_PORT=587                                             # Porta SMTP
SMTP_USERNAME=your_email@gmail.com                        # Usuário SMTP
SMTP_PASSWORD=your_app_password                           # Senha SMTP (use App Password para Gmail)
SMTP_USE_TLS=true                                         # Usar TLS
SMTP_USE_SSL=false                                        # Usar SSL

# Rate Limiting
EMAIL_RATE_LIMIT=100                                      # Emails por minuto
EMAIL_RATE_LIMIT_HOUR=1000                               # Emails por hora

# === DATABASE CONFIGURATION ===
# Configuração do banco de dados para features sociais
DATABASE_URL=mysql://user:password@localhost:3306/roteiros_hanseniase
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_db_password
DB_NAME=roteiros_hanseniase

# Connection Pool
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# === SECURITY CONFIGURATION ===
# Chaves e configurações de segurança
SECRET_KEY=your_very_secure_secret_key_here               # Chave secreta do Flask
JWT_SECRET_KEY=your_jwt_secret_key_here                   # Para tokens JWT
PASSWORD_SALT=your_password_salt_here                     # Salt para hash de senhas

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,https://roteiros-dispensacao.vercel.app
CORS_ALLOW_CREDENTIALS=true

# === FIREBASE CONFIGURATION ===
# Já configurado via GitHub Secrets (reutilizar)
NEXT_PUBLIC_FIREBASE_API_KEY=${FIREBASE_API_KEY}
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=${FIREBASE_AUTH_DOMAIN}
NEXT_PUBLIC_FIREBASE_PROJECT_ID=${FIREBASE_PROJECT_ID}
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=${FIREBASE_STORAGE_BUCKET}
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=${FIREBASE_MESSAGING_SENDER_ID}
NEXT_PUBLIC_FIREBASE_APP_ID=${FIREBASE_APP_ID}

# === SOCIAL FEATURES CONFIGURATION ===
# Configurações específicas das funcionalidades sociais
ENABLE_SOCIAL_SHARING=true                                # Habilitar compartilhamento social
ENABLE_EMAIL_NOTIFICATIONS=true                           # Habilitar notificações por email
ENABLE_AVATAR_UPLOAD=true                                 # Habilitar upload de avatar
AVATAR_MAX_SIZE=5242880                                   # Tamanho máximo do avatar (5MB)
AVATAR_ALLOWED_FORMATS=jpg,jpeg,png,webp                 # Formatos permitidos

# Social Platform URLs (para compartilhamento)
TWITTER_SHARE_URL=https://twitter.com/intent/tweet
FACEBOOK_SHARE_URL=https://www.facebook.com/sharer/sharer.php
LINKEDIN_SHARE_URL=https://www.linkedin.com/sharing/share-offsite/

# === MONITORING AND LOGGING ===
# Configurações de monitoramento
LOG_LEVEL=INFO                                            # DEBUG, INFO, WARNING, ERROR
STRUCTURED_LOGGING=true                                   # Usar logging estruturado (JSON)
LOG_FILE=logs/backend.log                                 # Arquivo de log

# Analytics Integration
ENABLE_ANALYTICS_TRACKING=true                            # Habilitar tracking de analytics
ANALYTICS_ENDPOINT=/api/analytics/track                   # Endpoint para eventos de analytics

# === DEVELOPMENT CONFIGURATION ===
# Configurações específicas para desenvolvimento
FLASK_ENV=development                                     # development ou production
DEBUG=true                                               # Habilitar modo debug
TESTING=false                                            # Modo de teste

# Hot Reload
FLASK_RUN_HOST=0.0.0.0
FLASK_RUN_PORT=5000
FLASK_RUN_RELOAD=true

# === PRODUCTION CONFIGURATION ===
# Configurações para produção (sobrescrever em .env.production)
# SESSION_COOKIE_SECURE=true
# SESSION_COOKIE_HTTPONLY=true  
# SESSION_COOKIE_SAMESITE=Strict
# MAX_CONTENT_LENGTH=16777216
# PERMANENT_SESSION_LIFETIME=1800

# === FEATURE FLAGS ===
# Flags para controlar funcionalidades
FEATURE_EMAIL_TEMPLATES=true                             # Templates de email avançados
FEATURE_BATCH_NOTIFICATIONS=true                         # Notificações em lote
FEATURE_ADVANCED_ANALYTICS=true                          # Analytics avançados
FEATURE_SOCIAL_PROFILES=true                             # Perfis sociais públicos
FEATURE_ACHIEVEMENT_SHARING=true                         # Compartilhamento de conquistas

# === EXTERNAL API CONFIGURATION ===
# APIs externas (se necessário)
GOOGLE_API_KEY=your_google_api_key                       # Para APIs do Google (opcional)
RECAPTCHA_SECRET_KEY=your_recaptcha_secret               # Para proteção anti-spam (opcional)

# === CACHE CONFIGURATION ===
# Configuração de cache (Redis opcional)
REDIS_URL=redis://localhost:6379                         # URL do Redis
REDIS_PASSWORD=your_redis_password                       # Senha do Redis (se necessário)
CACHE_TYPE=simple                                        # simple, redis, ou filesystem
CACHE_DEFAULT_TIMEOUT=300                                # Timeout padrão do cache (segundos)

# === TASK QUEUE CONFIGURATION ===
# Fila de tarefas para processamento assíncrono (Celery opcional)
CELERY_BROKER_URL=redis://localhost:6379                 # Broker para Celery
CELERY_RESULT_BACKEND=redis://localhost:6379             # Backend de resultados
CELERY_TASK_ALWAYS_EAGER=false                          # Executar tarefas imediatamente (dev)

# ============================================================================
# NOTAS DE CONFIGURAÇÃO:
#
# 1. NUNCA commitar arquivos .env com valores reais
# 2. Use GitHub Secrets para produção
# 3. Para desenvolvimento local, copie para .env.local e configure
# 4. Sendgrid é o provedor principal, SMTP é fallback
# 5. Todas as configurações têm valores padrão seguros
# 6. Rate limiting previne abuso do sistema de email
# 7. Features flags permitem ativar/desativar funcionalidades
# ============================================================================