{
  "integration": {
    "backend_health": {
      "status": "PASS",
      "response_time_ms": 2073.6136436462402,
      "data": {
        "checks_passed": 4,
        "checks_total": 4,
        "components": {
          "apis": {
            "huggingface": true,
            "openrouter": true,
            "status": "operational"
          },
          "cache_system": {
            "metrics": {
              "cache_hit_rate": "0.0%",
              "cache_size": 0,
              "memory_usage_mb": 0,
              "response_time_ms": 0,
              "uptime_seconds": 0
            },
            "status": "operational"
          },
          "knowledge_base": {
            "loaded": true,
            "size_chars": 11208,
            "sources": {
              "markdown": true,
              "structured": true
            },
            "status": "operational"
          },
          "personas": {
            "available": [
              "dr_gasnelio",
              "ga"
            ],
            "count": 2,
            "status": "operational"
          }
        },
        "environment": "development",
        "issues": [],
        "performance": {
          "cache_hit_rate": "0.0%",
          "cache_size": 0,
          "memory_usage_mb": 0,
          "response_time_ms": 0,
          "uptime_seconds": 0
        },
        "platform": "google-cloud-run",
        "status": "healthy",
        "timestamp": "2025-08-07T22:43:27.520548",
        "version": "9.0.0"
      }
    },
    "personas_endpoint": {
      "status": "PASS",
      "response_time_ms": 2061.5711212158203,
      "expected_personas": [
        "dr_gasnelio",
        "ga"
      ],
      "found_personas": [
        "dr_gasnelio",
        "ga"
      ]
    },
    "cors_config": {
      "status": "PASS",
      "cors_headers": {
        "access-control-allow-origin": "http://localhost:3003",
        "access-control-allow-methods": "GET, HEAD, OPTIONS, POST",
        "access-control-allow-headers": "Content-Type"
      }
    }
  },
  "quality": {
    "test_0_dr_gasnelio": {
      "status": "PARTIAL",
      "question": "Qual é o esquema PQT-U para hanseníase paucibacilar?",
      "persona": "dr_gasnelio",
      "response_time_ms": 2055.6535720825195,
      "quality_score": 0.1,
      "response_length": 0,
      "has_citations": false,
      "sentiment_detected": null,
      "fallback_used": false
    },
    "test_1_ga": {
      "status": "PARTIAL",
      "question": "Estou com medo de tomar os remédios da hanseníase. O que devo fazer?",
      "persona": "ga",
      "response_time_ms": 2038.2297039031982,
      "quality_score": 0.1,
      "response_length": 0,
      "has_citations": false,
      "sentiment_detected": null,
      "fallback_used": false
    },
    "test_2_dr_gasnelio": {
      "status": "PARTIAL",
      "question": "Como funciona a rifampicina no tratamento?",
      "persona": "dr_gasnelio",
      "response_time_ms": 2043.067455291748,
      "quality_score": 0.1,
      "response_length": 0,
      "has_citations": false,
      "sentiment_detected": null,
      "fallback_used": false
    },
    "test_3_ga": {
      "status": "PARTIAL",
      "question": "É normal sentir tontura com os medicamentos?",
      "persona": "ga",
      "response_time_ms": 2040.4326915740967,
      "quality_score": 0.1,
      "response_length": 0,
      "has_citations": false,
      "sentiment_detected": null,
      "fallback_used": false
    }
  },
  "performance": {
    "/api/health_performance": {
      "avg_response_time_ms": 2032.0417881011963,
      "max_response_time_ms": 2050.5599975585938,
      "min_response_time_ms": 2019.5107460021973,
      "status": "FAIL",
      "expected_time_ms": 200
    },
    "/api/personas_performance": {
      "avg_response_time_ms": 2029.6051502227783,
      "max_response_time_ms": 2071.6748237609863,
      "min_response_time_ms": 2009.281873703003,
      "status": "FAIL",
      "expected_time_ms": 500
    }
  },
  "failures": {
    "invalid_json": {
      "status": "PASS",
      "response_code": 400,
      "handles_gracefully": true
    },
    "missing_fields": {
      "status": "PASS",
      "response_code": 400
    },
    "rate_limiting": {
      "status": "INFO",
      "responses": [
        200,
        200,
        200,
        200,
        200,
        200,
        200,
        200,
        200,
        200
      ],
      "rate_limited": false
    }
  },
  "scores": {
    "integration": 100.0,
    "response_quality": 10.0,
    "performance": 0.0,
    "overall": 36.666666666666664
  },
  "issues": [],
  "recommendations": [
    {
      "priority": "HIGH",
      "category": "AI Quality",
      "issue": "AI response quality below acceptable threshold",
      "recommendation": "Review persona prompts and knowledge base content. Consider fine-tuning response generation."
    },
    {
      "priority": "MEDIUM",
      "category": "Performance",
      "issue": "Performance below expectations",
      "recommendation": "Implement caching, optimize database queries, consider CDN for static assets"
    }
  ]
}